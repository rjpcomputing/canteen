<div ng-show="errorMessage">
	<div class="alert alert-danger" role="alert">{{errorMessage}}</div>
</div>
<div class="panel panel-default">
	<div class="panel-heading">
		<h3 class="panel-title">
			<div class="row">
				<div class="col-sm-8">
					<h1 class="panel-title form-inline">Store &nbsp;<select name="selectedEvent" id="selectedEvent" ng-options="FormatEventName( event ) for event in events track by event.id" ng-model="currentEvent" ng-change="GetEventsCustomers( currentEvent )" class="form-control input-sm"></select></h1>
				</div>
				<!--<div ng-show="customers" class="col-sm-4">
					<div class="form-group has-feedback" style="margin-bottom: 0px;">
						<input ng-model="customerFilter" type="text" placeholder="Filter By Name" class="form-control" style="height: inherit; padding: 4px 15px;"/>
						<span class="glyphicon glyphicon-remove-sign form-control-feedback has-clear" ng-click="customerFilter = ''"></span>
					</div>
				</div>-->
			</div>
		</h3>
	</div>
	<div class="panel-body">
		<p>Select the event from the dropdown above, if one is not already selected, to open the store for that event. Then click on the customer to start the purchase process.</p>
	</div>
	<!--<div class="scrollable">-->
		<table ng-show="customers.length > 0" class="table table-hover" style="margin-bottom: 0px; border-top: 1px solid #dfd7ca;">
			<thead>
				<tr>
					<th class="form-inline">Name &nbsp;
						<div class="form-group has-feedback" style="margin-bottom: 0px;">
							<input ng-model="customerFilter" type="text" placeholder="Filter By Name" class="form-control" style="height: inherit; padding: 4px 15px;"/>
							<span class="glyphicon glyphicon-remove-sign form-control-feedback has-clear" ng-click="customerFilter = ''" style="margin-top: 5px;"></span>
						</div>
					</th>
					<th>Balance</th>
					<th>Purchases Today</th>
					<th><span class="pull-right">Actions</span></th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="customer in customers | filter: customerFilter as customerFilterResults" ng-click="Shop( $event, customer )" class="clickable">
					<td>{{customer.name}}</td>
					<td>{{customer.balance | currency}}</td>
					<td>{{customer.purchases_today}}</td>
					<td>
						<div ng-hide="product.editing" class="btn-group btn-group-xs pull-right">
							<button ng-click="CustomerDetails( $event, customer )" title="Purchase History" class="btn btn-info">History</button>
							<!--<button ng-click="Shop( $event, customer )" class="btn btn-primary">Shop</button>-->
						</div>
					</td>
				</tr>
			</tbody>
		</table>
	<!--</div>-->
</div>
